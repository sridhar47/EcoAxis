$(document).ready(function(){$.ajax({url:"../js/energyData.json",type:"get",dataType:"json",error:function(data){console.log("data",data)},success:function(data){for(var energyValues=data,i=0;i<energyValues.length;i++){if(0==i)var currCarousel=$("#myCarouselenergy"),type="type1",amount="amount1";else if(1==i)var currCarousel=$("#myCarouselwater"),type="type2",amount="amount2";else if(2==i)var currCarousel=$("#myCarouselgreen"),type="type3",amount="amount3";for(var key=Object.keys(energyValues[i]),engs=energyValues[i][key[0]],j=0;j<engs.length;j++){var eLength=engs[j].displayname.length,lastIdx=engs[j].displayname.lastIndexOf(" "),eName=engs[j].displayname.substring(0,lastIdx),eUnit=engs[j].displayname.substring(lastIdx+1,eLength),para1=document.createElement("p");para1=$(para1).addClass("eng_text").text(eName);var para2=document.createElement("p");para2=$(para2).addClass("eng_text eng_spec").text(eUnit);var para3=document.createElement("h");para3=$(para3).addClass("eng_text eng_amt_curr_yr").text(engs[j].value);var para4=document.createElement("p");para4=$(para4).addClass("eng_text unit").text(engs[j].uom);var eng_type_contr=document.createElement("div");eng_type_contr=$(eng_type_contr).addClass("eng_type_container").append(para1,para2,para3,para4);var arr=document.createElement("div");arr=0==engs[j].thresholdflag?$(arr).addClass("icon-Down_Arrow arrow_contr"):$(arr).addClass("icon-Up_Arrow arrow_contr");var arrSpec=document.createElement("div");arrSpec=$(arrSpec).addClass("arrow_spec").append(arr);var arrInd=document.createElement("div");arrInd=$(arrInd).addClass("eng_indicator").append(arrSpec);var aspec=document.createElement("p");aspec=$(aspec).addClass("amount_spec").text(engs[j].rvalue);var aPrd=document.createElement("p");aPrd=$(aPrd).addClass("amount_spec period").text(engs[j].rvaluedesc);var aspecCoontr=document.createElement("div");aspecCoontr=$(aspecCoontr).addClass("amount_spec_contr").append(aspec,aPrd);var amountd=document.createElement("div");amountd=$(amountd).addClass("eng_amount").append(aspecCoontr),$(amountd).addClass(amount);var typ=document.createElement("div");typ=$(typ).addClass("eng_type").append(eng_type_contr,arrInd,amountd),$(typ).addClass(type);var engDesc=document.createElement("div");engDesc=$(engDesc).addClass("energy_description").append(typ);var itm=document.createElement("div");itm=$(itm).addClass("item").append(engDesc),0==j&&$(itm).addClass("active");$(currCarousel).find(".carousel-inner.crsl_contr").append(itm)}}}});var totalHeight=parseInt($(".hdr_container").css("height"),10);$("#fullpage").fullpage({paddingTop:totalHeight,sectionSelector:".section",slideSelector:".slideme",normalScrollElements:".slide_4",afterResize:function(){$(".slide_4.section.social_ftr").css({height:"100px"}),$(".slide_4.section.social_ftr .fp-tableCell").css({height:"100px"})},onLeave:function(index,nextIndex,direction){if(2==nextIndex){var slideHeight=$("#fullpage .slide_1").height(),t="translate3d(0px, -"+(slideHeight+1)+"px, 0px)";setTimeout(function(){$("#fullpage .slide_2").css({"padding-top":Math.ceil(totalHeight/2)+"px"}),$("#fullpage").css({transform:t})},0)}}});var p=$(".fp-tableCell").height()-$(".slider_body_container").height()-$(".slider_body_footer").height(),padding=p/2+"px 0";$(".slider_body_container").css({padding:padding});var sl3Pad=$(".fp-tableCell").height()-$(".client_descrbr").height();sl3Pad=sl3Pad/2+"px 0",$(".client_container").css({padding:sl3Pad}),$(".slide_4.section.social_ftr").css({height:"100px"}),$(".slide_4.section.social_ftr .fp-tableCell").css({height:"100px"});var ftrPad=$(".slide_4.section.social_ftr .fp-tableCell").height()-$(".container.ftr_container").height();ftrPad=ftrPad/2+"px 0",$(".slide_4.section.social_ftr").css({padding:ftrPad});var totalSlides=$(".vr_slide .individual_slide").length,maxPos=330*(totalSlides-1),activeEleIdx=$(".individual_slide.active").index();activeEleIdx+=1;var activePos=330*(activeEleIdx-1);$(".vr_slide").css("top","-"+activePos+"px");var currBtn=$(".indv_btn").eq(activeEleIdx-1);$(currBtn).find(".btn_icons").addClass("active_btn");var ldrMsgMaxHgt=$(".fp-tableCell").height()-totalHeight-20;$(".ldr_speech").css({"max-height":ldrMsgMaxHgt+"px"});var actualHeight=($(".ldr_speech").find(".ldr_msg_para"),0);$(".ldr_msg_para").each(function(){console.log("actualHeight",actualHeight),console.log("$(this)",$(this)),actualHeight+=$(this).height(),console.log("actualHeight",actualHeight)});var maxHeight=$(".ldr_speech").height();actualHeight>maxHeight&&$(".ldr_extra_info").css({display:"inline-block"}),$(".ldr_extra_info").click(function(){console.log($(".ldr_speech").html()),$(".ldr_msg_sec").html($(".ldr_speech").html())}),$(".up_slide").click(function(){var currPos=parseInt($(".vr_slide").css("top"),10),currPosNeg=-currPos;if(currPosNeg<maxPos){var finalPos=currPos-330;$(".vr_slide").css("top",finalPos+"px");var currEle=$(".individual_slide.active"),nextEle=$(".individual_slide.active").next();$(currEle).removeClass("active"),$(nextEle).addClass("active");var currBtnIdx=$(currEle).index(),nextBtnIdx=$(nextEle).index();$($(".indv_btn").eq(currBtnIdx)).find(".btn_icons").removeClass("active_btn"),$($(".indv_btn").eq(nextBtnIdx)).find(".btn_icons").addClass("active_btn")}}),$(".down_slide").click(function(){var currPos=parseInt($(".vr_slide").css("top"),10);if(currPos<0){var finalPos=currPos+330;$(".vr_slide").css("top",finalPos+"px");var currEle=$(".individual_slide.active"),prevEle=$(".individual_slide.active").prev();$(currEle).removeClass("active"),$(prevEle).addClass("active");var currBtnIdx=$(currEle).index(),prevBtnIdx=$(prevEle).index();$($(".indv_btn").eq(currBtnIdx)).find(".btn_icons").removeClass("active_btn"),$($(".indv_btn").eq(prevBtnIdx)).find(".btn_icons").addClass("active_btn")}}),$(".custom_icon").click(function(){var videoStatus=$(".video_container").css("display");if("block"==videoStatus){var myPlayer=videojs("comp_video");myPlayer.pause(),$(".video_container").css("display","none"),$(".video_text").text("watch video")}else{var topPad=$(".declaration_hdr").height(),browserHeight=$(window).height();browserHeight=.7*browserHeight,$(".video_container").css({display:"block",height:browserHeight,top:topPad+"px"}),$("#comp_video").addClass("video-js vjs-default-skin vjs-big-play-centered");var vHght=$(".video_container").height(),vWdth=$(".video_container").width();$("video").attr({height:vHght,width:vWdth}),videojs("comp_video",{controls:!0,autoplay:!1,preload:"auto"},function(){var myPlayer=this;myPlayer.play(),myPlayer.requestFullscreen(),$(".video_text").text("close video")})}}),$(".read_more").click(function(){$(".rm_title").text($(".client_header").text()),$(".more_content").text($(".client_para").text())}),$(".ftrs_content").click(function(){$(".ftr_title_popup").text("feature - "+$(".ftrs_content .item.active .ftr_title").text());var bgImg=$(".ftrs_content").find(".item.active .ftr_title_container").css("background-image"),bgRpt=$(".ftrs_content").find(".item.active .ftr_title_container").css("background-repeat"),bgPosn=$(".ftrs_content").find(".item.active .ftr_title_container").css("background-position"),bgSize=$(".ftrs_content").find(".item.active .ftr_title_container").css("background-size");$(".pimg_indv.left_img").css({"background-image":bgImg}),$(".pimg_indv.left_img").css({"background-repeat":bgRpt}),$(".pimg_indv.left_img").css({"background-position":bgPosn}),$(".pimg_indv.left_img").css("background-size",bgSize),$(".ftr_popup_text").text($(".ftrs_content .item.active .ftr_descr").text())});var setTopPos=function(){var totalHeight=parseInt($(".hdr_container").css("height"),10),topPos=totalHeight;$(".slide_1").css({"padding-top":topPos})};$(window).resize(function(){setTopPos()}),setTopPos();$(".ldr_speech .ldr_msg_para").height(),$(".ldr_speech").height();$(".ldr_speech .ldr_msg_para").height()>$(".ldr_speech").height()&&$(".ldr_extra_info").css({display:"inline-block"}),$(".modal-content.login_content").css({height:$(window).height()+"px"}),$(".modal-content.ftr_content_popup").css({height:$(window).height()+"px"}),$(".modal-content.rm_content").css({height:$(window).height()+"px"}),$(".modal-content.leader_content").css({height:$(window).height()+"px"}),$(".login").click(function(){setTimeout(function(){if($("body").hasClass("modal-open")&&$("#logInModal").hasClass("in")){var popupHeight=$(".modal-content.login_content").height(),modalBodyHeight=$(".modal-body.credential").height(),pTop=parseInt($(".modal-body.credential").css("padding-top"),10);modalBodyHeight+=2*pTop;var hdrHeight=parseFloat($(".modal-header.login_header button").css("height"),10);hdrPad=parseInt($(".modal-header.login_header").css("padding-top"),10);var mTop=(popupHeight-modalBodyHeight)/2-hdrHeight;$(".modal-body.credential").css({"margin-top":mTop+"px"}),$(".main_wrapper").css({filter:"blur(7px)","-webkit-filter":"blur(7px)"})}},200)}),$("#user_mail").on("keyup",function(e1){if(13==e1.keyCode){$(this).val();$("#user_mail").css({display:"none"}).queue(function(){$("#user_pwd").css({display:"inline-block"})}),$("#user_pwd").on("keyup",function(e2){if(13==e2.keyCode){$(this).val();$(".modal-header.login_header .close").click()}})}}),$(".modal-header.login_header .close").on("click",function(){$(".main_wrapper").css({filter:"blur(0px)","-webkit-filter":"blur(0px)"})}),$(".modal").on("shown.bs.modal",function(){$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1)}),$(".modal").on("hidden.bs.modal",function(){$.fn.fullpage.setAllowScrolling(!0),$.fn.fullpage.setKeyboardScrolling(!0)})});